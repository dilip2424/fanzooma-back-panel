"use strict";(self.webpackChunkFanzooma=self.webpackChunkFanzooma||[]).push([[794],{27624:function(n,t,o){o.d(t,{l:function(){return d}});var e=o(74788);let r=(()=>{class n{constructor(){this.filters={}}setFilter(n){this.filters=Object.assign({},n)}resetFilter(){this.filters={}}getFilter(){return this.filters}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var s=o(92340),i=o(26215),a=o(68939),c=o(58497);let d=(()=>{class n extends r{constructor(n){super(),this.http=n,this._isLoading$=new i.X(!1),this._isLoadingtable$=new i.X(!1),this.apiUrl=s.N.apiUrl}get isLoading$(){return this._isLoading$.asObservable()}get isLoadingtable$(){return this._isLoadingtable$.asObservable()}create(n){return this._isLoading$.next(!0),this.http.post(`${this.apiUrl}/user/add`,n).pipe((0,a.x)(()=>{this._isLoading$.next(!1)}))}getAll(n){return this._isLoadingtable$.next(!0),this.http.post(`${this.apiUrl}/admin/user/all`,n).pipe((0,a.x)(()=>{this._isLoadingtable$.next(!1)}))}delete(n){return this.http.put(`${this.apiUrl}/user/change-status/${n}`,{status:3})}changestatus(n,t){return this.http.put(`${this.apiUrl}/user/change-status/${n}`,{status:t})}getById(n){return this.http.patch(`${this.apiUrl}/user/detail/${n}`,{})}updateBasicProfile(n){return this._isLoading$.next(!0),this.http.post(`${this.apiUrl}/admin/user/profile-update`,n).pipe((0,a.x)(()=>{this._isLoading$.next(!1)}))}updatePassword(n){return this._isLoading$.next(!0),this.http.post(`${this.apiUrl}/admin/user/profile-password`,n).pipe((0,a.x)(()=>{this._isLoading$.next(!1)}))}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(c.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()},18794:function(n,t,o){o.r(t),o.d(t,{ProfileModule:function(){return I}});var e=o(12057),r=o(84051),s=o(67361),i=o(90610),a=o(91370),c=o(24751),d=o(92636),g=o(27452),l=o(74788),p=o(91376),u=o(27624),m=o(67083);function _(n,t){if(1&n&&(l.TgZ(0,"li"),l._uU(1),l.qZA()),2&n){const n=t.$implicit;l.xp6(1),l.Oqu(n)}}function f(n,t){if(1&n&&(l.TgZ(0,"ul",26),l.YNc(1,_,2,1,"li",27),l.qZA()),2&n){const n=l.oxw();l.xp6(1),l.Q6J("ngForOf",n.profileErrors.errors)}}function h(n,t){1&n&&(l.TgZ(0,"div",13),l.TgZ(1,"span",28),l._uU(2,"Name is required"),l.qZA(),l.qZA())}function Z(n,t){1&n&&(l.TgZ(0,"div",13),l.TgZ(1,"span",28),l._uU(2,"Name should be more than 2 character"),l.qZA(),l.qZA())}function P(n,t){1&n&&(l.TgZ(0,"div",13),l.TgZ(1,"span",28),l._uU(2,"Name shouldn't be more than 50 character."),l.qZA(),l.qZA())}function w(n,t){1&n&&l._UZ(0,"i",29)}function C(n,t){if(1&n&&(l.TgZ(0,"li"),l._uU(1),l.qZA()),2&n){const n=t.$implicit;l.xp6(1),l.Oqu(n)}}function b(n,t){if(1&n&&(l.TgZ(0,"ul",26),l.YNc(1,C,2,1,"li",27),l.qZA()),2&n){const n=l.oxw();l.xp6(1),l.Q6J("ngForOf",n.passwordErrors.errors)}}function O(n,t){1&n&&(l.TgZ(0,"div",13),l.TgZ(1,"span",28),l._uU(2,"Password is required"),l.qZA(),l.qZA())}function M(n,t){1&n&&(l.TgZ(0,"div",13),l.TgZ(1,"span",28),l._uU(2,"password should be minimum 6 characters."),l.qZA(),l.qZA())}function v(n,t){1&n&&(l.TgZ(0,"div",13),l.TgZ(1,"span",28),l._uU(2,"Password is required"),l.qZA(),l.qZA())}function q(n,t){1&n&&(l.TgZ(0,"div",13),l.TgZ(1,"span",28),l._uU(2,"password should be minimum 6 characters."),l.qZA(),l.qZA())}function A(n,t){1&n&&(l.TgZ(0,"div",13),l.TgZ(1,"span",28),l._uU(2,"Password is required"),l.qZA(),l.qZA())}function T(n,t){1&n&&(l.TgZ(0,"div",13),l.TgZ(1,"span",28),l._uU(2,"password should be minimum 6 characters."),l.qZA(),l.qZA())}function F(n,t){1&n&&(l.TgZ(0,"div",13),l.TgZ(1,"span",28),l._uU(2,"new password and confirm password should match."),l.qZA(),l.qZA())}function y(n,t){1&n&&l._UZ(0,"i",29)}const x=function(n){return{"is-valid":n}},U=[{path:"",component:(()=>{class n{constructor(n,t,o,e){this.fb=n,this.toastr=t,this.adminservice=o,this.authserive=e,this.submitted=!1,this.isProfileFormSubmitted=!1,this.isPasswordFormSubmitted=!1,this.profileErrors=new g.Z,this.passwordErrors=new g.Z,this.checkPasswords=n=>n.get("new_password").value===n.get("confirm_password").value?null:{notSame:!0}}ngOnInit(){this.initForm(),this.isLoading$=this.adminservice.isLoading$;const n=this.authserive.currentUserValue;this.profileForm.patchValue({name:n.name,email:n.email})}initForm(){this.profileForm=this.fb.group({name:["",[c.kI.required,c.kI.minLength(3),c.kI.maxLength(50)]],email:[""]}),this.passwordForm=this.fb.group({password:["",[c.kI.minLength(6)]],new_password:["",[c.kI.minLength(6)]],confirm_password:[""]},{validator:this.checkPasswords})}updateBasicProfile(){this.isProfileFormSubmitted=!0,this.profileForm.valid&&this.adminservice.updateBasicProfile(this.profileForm.value).subscribe(n=>{const{message:t}=n;this.toastr.success(t,"Success",{positionClass:"toast-top-right"}),location.reload()},n=>{const{errors:t,message:o}=n.error;this.profileErrors=t,this.toastr.error(o,"Error",{positionClass:"toast-top-right"})})}updatePassword(){this.isPasswordFormSubmitted=!0,this.passwordForm.valid&&this.adminservice.updatePassword(this.passwordForm.value).subscribe(n=>{const{message:t}=n;this.toastr.success(t,"Success",{positionClass:"toast-top-right"}),location.reload()},n=>{const{errors:t,message:o}=n.error;this.passwordErrors.errors=t,this.toastr.error(o,"Error",{positionClass:"toast-top-right"})})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(c.qu),l.Y36(p._W),l.Y36(u.l),l.Y36(m.e))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-update-profile"]],decls:82,vars:32,consts:[["id","basic-input"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-12"],[1,"card","customisecard"],[1,"card-header"],[1,"card-title","mt-1"],[1,"card-content"],[1,"card-body"],["class","errorsclass",4,"ngIf"],[1,"col-md-4"],[1,"form-group"],["for","nameinput"],[1,"text-danger"],["type","text","id","nameinput","placeholder","Enter Email","placeholder","Enter Name","formControlName","name",1,"form-control","form-control-sm",3,"ngClass"],["class","text-danger",4,"ngIf"],["for","emailinput"],["disabled","","type","text","id","emailinput","placeholder","Enter Email","formControlName","email",1,"form-control","form-control-sm",3,"ngClass"],[1,"card-footer"],["type","submit",1,"btn","btn-sm","btn-primary","mr-2",3,"disabled"],[1,"ft-check-square","mr-1"],["class","fa fa-spinner fa-spin",4,"ngIf"],["for","passwordInput"],["type","password","autocomplete","new-password","formControlName","password","id","passwordInput","placeholder","Password",1,"form-control","form-control-sm"],["type","password","autocomplete","new-password","formControlName","new_password","id","passwordInput","placeholder","Password",1,"form-control","form-control-sm"],["type","password","autocomplete","new-password","formControlName","confirm_password","id","passwordInput","placeholder","Password",1,"form-control","form-control-sm"],[1,"errorsclass"],[4,"ngFor","ngForOf"],[1,"errormessage"],[1,"fa","fa-spinner","fa-spin"]],template:function(n,t){1&n&&(l.TgZ(0,"section",0),l.TgZ(1,"form",1),l.NdJ("ngSubmit",function(){return t.updateBasicProfile()}),l.TgZ(2,"div",2),l.TgZ(3,"div",3),l.TgZ(4,"div",4),l.TgZ(5,"div",5),l.TgZ(6,"h4",6),l._uU(7,"Update Basic Profile"),l.qZA(),l.qZA(),l.TgZ(8,"div",7),l.TgZ(9,"div",8),l.YNc(10,f,2,1,"ul",9),l.TgZ(11,"div",2),l.TgZ(12,"div",10),l.TgZ(13,"fieldset",11),l.TgZ(14,"label",12),l._uU(15,"Name "),l.TgZ(16,"span",13),l._uU(17,"*"),l.qZA(),l.qZA(),l._UZ(18,"input",14),l.YNc(19,h,3,0,"div",15),l.YNc(20,Z,3,0,"div",15),l.YNc(21,P,3,0,"div",15),l.qZA(),l.qZA(),l.TgZ(22,"div",10),l.TgZ(23,"fieldset",11),l.TgZ(24,"label",16),l._uU(25,"Email "),l.TgZ(26,"span",13),l._uU(27,"*"),l.qZA(),l.qZA(),l._UZ(28,"input",17),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(29,"div",18),l.TgZ(30,"button",19),l.ALo(31,"async"),l._UZ(32,"i",20),l._uU(33," Update "),l.YNc(34,w,1,0,"i",21),l.ALo(35,"async"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(36,"form",1),l.NdJ("ngSubmit",function(){return t.updatePassword()}),l.TgZ(37,"div",2),l.TgZ(38,"div",3),l.TgZ(39,"div",4),l.TgZ(40,"div",5),l.TgZ(41,"h4",6),l._uU(42,"Update Password"),l.qZA(),l.qZA(),l.TgZ(43,"div",7),l.TgZ(44,"div",8),l.YNc(45,b,2,1,"ul",9),l.TgZ(46,"div",2),l.TgZ(47,"div",10),l.TgZ(48,"fieldset",11),l.TgZ(49,"label",22),l._uU(50,"Password "),l.TgZ(51,"span",13),l._uU(52,"*"),l.qZA(),l.qZA(),l._UZ(53,"input",23),l.YNc(54,O,3,0,"div",15),l.YNc(55,M,3,0,"div",15),l.qZA(),l.qZA(),l.TgZ(56,"div",10),l.TgZ(57,"fieldset",11),l.TgZ(58,"label",22),l._uU(59,"New Password "),l.TgZ(60,"span",13),l._uU(61,"*"),l.qZA(),l.qZA(),l._UZ(62,"input",24),l.YNc(63,v,3,0,"div",15),l.YNc(64,q,3,0,"div",15),l.qZA(),l.qZA(),l.TgZ(65,"div",10),l.TgZ(66,"fieldset",11),l.TgZ(67,"label",22),l._uU(68,"Confirm Password "),l.TgZ(69,"span",13),l._uU(70,"*"),l.qZA(),l.qZA(),l._UZ(71,"input",25),l.YNc(72,A,3,0,"div",15),l.YNc(73,T,3,0,"div",15),l.YNc(74,F,3,0,"div",15),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(75,"div",18),l.TgZ(76,"button",19),l.ALo(77,"async"),l._UZ(78,"i",20),l._uU(79," Update "),l.YNc(80,y,1,0,"i",21),l.ALo(81,"async"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&n&&(l.xp6(1),l.Q6J("formGroup",t.profileForm),l.xp6(9),l.Q6J("ngIf",t.profileErrors.errors.length>0),l.xp6(8),l.Q6J("ngClass",l.VKq(28,x,t.profileForm.get("name").valid)),l.xp6(1),l.Q6J("ngIf",t.isProfileFormSubmitted&&t.profileForm.get("name").errors&&t.profileForm.get("name").hasError("required")),l.xp6(1),l.Q6J("ngIf",t.isProfileFormSubmitted&&t.profileForm.get("name").errors&&t.profileForm.get("name").hasError("minlength")),l.xp6(1),l.Q6J("ngIf",t.isProfileFormSubmitted&&t.profileForm.get("name").errors&&t.profileForm.get("name").hasError("maxlength")),l.xp6(7),l.Q6J("ngClass",l.VKq(30,x,t.profileForm.get("email").valid)),l.xp6(2),l.Q6J("disabled",l.lcZ(31,20,t.isLoading$)),l.xp6(4),l.Q6J("ngIf",l.lcZ(35,22,t.isLoading$)),l.xp6(2),l.Q6J("formGroup",t.passwordForm),l.xp6(9),l.Q6J("ngIf",t.passwordErrors.errors.length>0),l.xp6(9),l.Q6J("ngIf",t.isPasswordFormSubmitted&&t.passwordForm.get("password").errors&&t.passwordForm.get("password").hasError("required")),l.xp6(1),l.Q6J("ngIf",t.isPasswordFormSubmitted&&t.passwordForm.get("password").errors&&t.passwordForm.get("password").hasError("minlength")),l.xp6(8),l.Q6J("ngIf",t.isPasswordFormSubmitted&&t.passwordForm.get("new_password").errors&&t.passwordForm.get("new_password").hasError("required")),l.xp6(1),l.Q6J("ngIf",t.isPasswordFormSubmitted&&t.passwordForm.get("new_password").errors&&t.passwordForm.get("new_password").hasError("minlength")),l.xp6(8),l.Q6J("ngIf",t.isPasswordFormSubmitted&&t.passwordForm.get("confirm_password").errors&&t.passwordForm.get("confirm_password").hasError("required")),l.xp6(1),l.Q6J("ngIf",t.isPasswordFormSubmitted&&t.passwordForm.get("confirm_password").errors&&t.passwordForm.get("confirm_password").hasError("minlength")),l.xp6(1),l.Q6J("ngIf",t.isPasswordFormSubmitted&&t.passwordForm.hasError("notSame")),l.xp6(2),l.Q6J("disabled",l.lcZ(77,24,t.isLoading$)),l.xp6(4),l.Q6J("ngIf",l.lcZ(81,26,t.isLoading$)))},directives:[c._Y,c.JL,c.sg,e.O5,c.Fj,c.JJ,c.u,e.mk,e.sg],pipes:[e.Ov],styles:["",".ng-dropdown-panel[_ngcontent-%COMP%]   .ng-dropdown-panel-items[_ngcontent-%COMP%]   .ng-option[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:.7rem}.ng-dropdown-panel[_ngcontent-%COMP%]   .ng-dropdown-panel-items[_ngcontent-%COMP%]   .ng-option[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] + b[_ngcontent-%COMP%]{vertical-align:middle}.ng-dropdown-panel[_ngcontent-%COMP%]   .ng-dropdown-panel-items[_ngcontent-%COMP%]   .ng-option.ng-option-marked[_ngcontent-%COMP%]{background-color:#2f8be6!important;color:#fff!important}.ng-dropdown-panel[_ngcontent-%COMP%]   .ng-dropdown-panel-items[_ngcontent-%COMP%]   .ng-option-selected[_ngcontent-%COMP%]{background-color:#2f8be6!important;color:#fff!important}.ng-select[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]{background-color:transparent!important;border-color:#e0e0e0;border-radius:.35rem;color:#342e49}.ng-select[_ngcontent-%COMP%]   .ng-dropdown-panel[_ngcontent-%COMP%]{border-color:#e0e0e0;box-shadow:none;margin:0}.ng-select.ng-select-opened[_ngcontent-%COMP%] > .ng-select-container[_ngcontent-%COMP%]{border-color:#2f8be6!important}.ng-select.ng-select-focused[_ngcontent-%COMP%]:not(.ng-select-opened) > .ng-select-container[_ngcontent-%COMP%]{border-color:#2f8be6;box-shadow:none}.ng-select.ng-select-multiple[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]   .ng-value-container[_ngcontent-%COMP%]   .ng-value[_ngcontent-%COMP%]{background-color:#2f8be6;color:#fff;border-radius:.35rem}.ng-select.ng-select-multiple[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]   .ng-value-container[_ngcontent-%COMP%]   .ng-value[_ngcontent-%COMP%]   .ng-value-icon[_ngcontent-%COMP%]{border:1px solid #7441DB;border-right:0!important;border-top-left-radius:.35rem;border-bottom-left-radius:.35rem;padding:1px 0 1px 5px}.ng-select.ng-select-multiple[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]   .ng-value-container[_ngcontent-%COMP%]   .ng-value[_ngcontent-%COMP%]   .ng-value-icon[_ngcontent-%COMP%]:hover{background-color:inherit}.ng-select.ng-select-multiple[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]   .ng-value-container[_ngcontent-%COMP%]   .ng-value[_ngcontent-%COMP%]   .ng-value-label[_ngcontent-%COMP%]{border:1px solid #7441DB;border-left:0!important;border-top-right-radius:.35rem;border-bottom-right-radius:.35rem}html[_ngcontent-%COMP%]   body.layout-dark[_ngcontent-%COMP%]:not(.layout-transparent)   .ng-select[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]{border-color:#474748;color:#b2b1b5}html[_ngcontent-%COMP%]   body.layout-dark[_ngcontent-%COMP%]:not(.layout-transparent)   .ng-select[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]   .ng-input[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]::-moz-placeholder{color:#b2b1b5}html[_ngcontent-%COMP%]   body.layout-dark[_ngcontent-%COMP%]:not(.layout-transparent)   .ng-select[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]   .ng-input[_ngcontent-%COMP%] > input[_ngcontent-%COMP%], html[_ngcontent-%COMP%]   body.layout-dark[_ngcontent-%COMP%]:not(.layout-transparent)   .ng-select[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]   .ng-input[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]::placeholder{color:#b2b1b5}html[_ngcontent-%COMP%]   body.layout-dark.layout-transparent[_ngcontent-%COMP%]   .ng-select[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]{border-color:#eee3;color:#d6d5d8}html[_ngcontent-%COMP%]   body.layout-dark.layout-transparent[_ngcontent-%COMP%]   .ng-select[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]   .ng-input[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]::-moz-placeholder{color:#d6d5d8}html[_ngcontent-%COMP%]   body.layout-dark.layout-transparent[_ngcontent-%COMP%]   .ng-select[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]   .ng-input[_ngcontent-%COMP%] > input[_ngcontent-%COMP%], html[_ngcontent-%COMP%]   body.layout-dark.layout-transparent[_ngcontent-%COMP%]   .ng-select[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]   .ng-input[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]::placeholder{color:#d6d5d8}html[_ngcontent-%COMP%]   body.layout-dark[_ngcontent-%COMP%]   .ng-dropdown-panel[_ngcontent-%COMP%]{border-color:#474748}html[_ngcontent-%COMP%]   body.layout-dark[_ngcontent-%COMP%]   .ng-dropdown-panel[_ngcontent-%COMP%]   .ng-dropdown-panel-items[_ngcontent-%COMP%]   .ng-option[_ngcontent-%COMP%]{background-color:#1e1e1e;color:#b2b1b5}html[_ngcontent-%COMP%]   body.layout-dark[_ngcontent-%COMP%]   .ng-dropdown-panel[_ngcontent-%COMP%]   .ng-dropdown-panel-items[_ngcontent-%COMP%]   .ng-option.ng-option-disabled[_ngcontent-%COMP%]{color:#626164}html[_ngcontent-%COMP%]   body.layout-dark[_ngcontent-%COMP%]   .ng-dropdown-panel[_ngcontent-%COMP%]   .ng-optgroup.ng-option-disabled[_ngcontent-%COMP%]{background-color:#1e1e1e;color:#626164}html[_ngcontent-%COMP%]   body.layout-dark[_ngcontent-%COMP%]   .ng-dropdown-panel[_ngcontent-%COMP%]   .ng-dropdown-header[_ngcontent-%COMP%], html[_ngcontent-%COMP%]   body.layout-dark[_ngcontent-%COMP%]   .ng-dropdown-panel[_ngcontent-%COMP%]   .ng-dropdown-footer[_ngcontent-%COMP%]{background-color:#101010;color:#626164;border-color:#474748}"]}),n})(),data:{title:"Update Profile"}}];let k=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[d.Bz.forChild(U)],d.Bz]}),n})();var $=o(38918);let I=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[e.ez,k,r.xD,s.d,i.IJ,a.A0,c.u5,$.m,c.UX]]}),n})()}}]);