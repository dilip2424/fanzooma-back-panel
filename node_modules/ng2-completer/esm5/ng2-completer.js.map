{"version":3,"file":"ng2-completer.js","sources":["../../../src/globals.ts","../../../src/services/completer-base-data.ts","../../../src/services/local-data.ts","../../../src/services/remote-data.ts","../../../src/services/local-data-factory.ts","../../../src/services/remote-data-factory.ts","../../../src/services/completer-service.ts","../../../src/directives/ctr-completer.ts","../../../src/directives/ctr-dropdown.ts","../../../src/directives/ctr-input.ts","../../../src/directives/ctr-list.ts","../../../src/directives/ctr-row.ts","../../../src/components/completer-list-item-cmp.ts","../../../src/components/completer-cmp.ts","../../../src/modules/ng2-completer.module.ts"],"names":[],"mappings":"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","sourcesContent":["\nexport const MAX_CHARS = 524288;  // the default max length per the html maxlength attribute\nexport const MIN_SEARCH_LENGTH = 3;\nexport const PAUSE = 10;\nexport const TEXT_SEARCHING = \"Searching...\";\nexport const TEXT_NO_RESULTS = \"No results found\";\nexport const CLEAR_TIMEOUT = 50;\n\nexport function isNil(value: any) {\n    return typeof value === \"undefined\" || value === null;\n}\n","import { Subject } from \"rxjs\";\n\nimport { CompleterItem } from \"../components/completer-item\";\nimport { CompleterData } from \"./completer-data\";\nimport { isNil } from \"../globals\";\n\nexport abstract class CompleterBaseData extends Subject<CompleterItem[] | null> implements CompleterData {\n\n    protected _searchFields: string | null = null;\n    protected _titleField: string | null = null;\n    protected _descriptionField: string | undefined = undefined;\n    protected _imageField: string | undefined = undefined;\n\n    constructor() {\n        super();\n    }\n\n    public abstract search(term: string): void;\n\n    public cancel() {\n        return;\n    }\n\n    public searchFields(searchFields: string | null) {\n        this._searchFields = searchFields;\n        return this;\n    }\n\n    public titleField(titleField: string | null) {\n        this._titleField = titleField;\n        return this;\n    }\n\n    public descriptionField(descriptionField: string) {\n        this._descriptionField = descriptionField;\n        return this;\n    }\n\n    public imageField(imageField: string) {\n        this._imageField = imageField;\n        return this;\n    }\n\n    public convertToItem(data: any) {\n        let image: string | null = null;\n        let formattedText: string;\n        let formattedDesc: string | null = null;\n\n        if (this._titleField) {\n            formattedText = this.extractTitle(data);\n        } else {\n            formattedText = data;\n        }\n\n        if (typeof formattedText !== \"string\") {\n            formattedText = JSON.stringify(formattedText);\n        }\n\n        if (this._descriptionField) {\n            formattedDesc = this.extractValue(data, this._descriptionField);\n        }\n\n        if (this._imageField) {\n            image = this.extractValue(data, this._imageField);\n        }\n\n        if (isNil(formattedText)) {\n            return null;\n        }\n\n        return {\n            description: formattedDesc,\n            image,\n            originalObject: data,\n            title: formattedText\n        } as CompleterItem;\n\n    }\n\n    protected extractMatches(data: any[], term: string) {\n        let matches: any[] = [];\n        const searchFields = this._searchFields ? this._searchFields.split(\",\") : null;\n        if (this._searchFields !== null && this._searchFields !== undefined && term !== \"\") {\n            matches = data.filter((item) => {\n                const values: any[] = searchFields ? this.extractBySearchFields(searchFields, item) : [item];\n                return values.some((value) => value\n                    .toString()\n                    .toLowerCase()\n                    .indexOf(term.toString().toLowerCase()) >= 0\n                );\n            });\n        } else {\n            matches = data;\n        }\n\n        return matches;\n    }\n\n    protected extractTitle(item: any) {\n        // split title fields and run extractValue for each and join with ' '\n        if (!this._titleField) {\n            return \"\";\n        }\n\n        return this._titleField.split(\",\")\n            .map((field) => {\n                return this.extractValue(item, field);\n            })\n            .reduce((acc, titlePart) => acc ? `${acc} ${titlePart}` : titlePart);\n    }\n\n    protected extractValue(obj: any, key: string | null) {\n        let keys: string[];\n        let result: any;\n        if (key) {\n            keys = key.split(\".\");\n            result = obj;\n            for (key of keys) {\n                if (result) {\n                    result = result[key];\n                }\n            }\n        } else {\n            result = obj;\n        }\n        return result;\n    }\n\n    protected processResults(matches: string[]): CompleterItem[] {\n        let i: number;\n        const results: CompleterItem[] = [];\n\n        if (matches && matches.length > 0) {\n            for (i = 0; i < matches.length; i++) {\n                const item = this.convertToItem(matches[i]);\n                if (item) {\n                    results.push(item);\n                }\n            }\n        }\n        return results;\n    }\n\n    private extractBySearchFields(searchFields: string[], item: any) {\n        return searchFields\n            .map((searchField) => this.extractValue(item, searchField)).filter((value) => !!value);\n    }\n}\n","import { EventEmitter } from \"@angular/core\";\nimport { Observable } from \"rxjs\";\nimport { catchError } from \"rxjs/operators\";\n\nimport { CompleterBaseData } from \"./completer-base-data\";\nimport { CompleterItem } from \"../components/completer-item\";\n\nexport class LocalData extends CompleterBaseData {\n\n    public dataSourceChange: EventEmitter<void> = new EventEmitter<void>();\n\n    protected _data: any[] = [];\n    protected savedTerm: string | null = null;\n\n    constructor() {\n        super();\n    }\n\n    public data(data: any[] | Observable<any[]>) {\n        if (data instanceof Observable) {\n            const data$ = data as Observable<any[]>;\n            data$\n                .pipe(catchError(() => []))\n                .subscribe((res) => {\n                    this._data = res;\n                    if (this.savedTerm) {\n                        this.search(this.savedTerm);\n                    }\n                    this.dataSourceChange.emit();\n                });\n        } else {\n            this._data = data;\n        }\n\n        this.dataSourceChange.emit();\n\n        return this;\n    }\n\n    public search(term: string): void {\n        if (!this._data) {\n            this.savedTerm = term;\n        } else {\n            this.savedTerm = null;\n            const matches: any[] = this.extractMatches(this._data, term);\n            this.next(this.processResults(matches));\n        }\n    }\n\n    public convertToItem(data: any): CompleterItem | null {\n        return super.convertToItem(data);\n    }\n}\n","import { EventEmitter } from \"@angular/core\";\nimport { HttpClient } from \"@angular/common/http\";\nimport { Subscription } from \"rxjs\";\nimport { catchError, map } from \"rxjs/operators\";\n\nimport { CompleterBaseData } from \"./completer-base-data\";\nimport { CompleterItem } from \"../components/completer-item\";\n\nexport class RemoteData extends CompleterBaseData {\n    public dataSourceChange: EventEmitter<void> = new EventEmitter<void>();\n\n    private _remoteUrl: string | null = null;\n    private remoteSearch: Subscription | null = null;\n    private _urlFormater: ((term: string) => string) | null = null;\n    private _dataField: string | null = null;\n    private _requestOptions: any;\n\n    constructor(private http: HttpClient) {\n        super();\n    }\n\n    public remoteUrl(remoteUrl: string | null) {\n        this._remoteUrl = remoteUrl;\n        this.dataSourceChange.emit();\n\n        return this;\n    }\n\n    public urlFormater(urlFormater: (term: string) => string) {\n        this._urlFormater = urlFormater;\n    }\n\n    public dataField(dataField: string) {\n        this._dataField = dataField;\n    }\n\n    public requestOptions(requestOptions: any) {\n        this._requestOptions = requestOptions;\n    }\n\n    public search(term: string): void {\n        this.cancel();\n        // let params = {};\n        let url = \"\";\n        if (this._urlFormater) {\n            url = this._urlFormater(term);\n        } else {\n            url = this._remoteUrl + encodeURIComponent(term);\n        }\n\n        this.remoteSearch = this.http\n            .get(url, Object.assign({}, this._requestOptions))\n            .pipe(\n                map((data: any) => {\n                    const matches = this.extractValue(data, this._dataField);\n                    return this.extractMatches(matches, term);\n                }),\n                catchError(() => [])\n            )\n            .subscribe((matches: any[]) => {\n                const results = this.processResults(matches);\n                this.next(results);\n            });\n    }\n\n    public cancel() {\n        if (this.remoteSearch) {\n            this.remoteSearch.unsubscribe();\n        }\n    }\n\n    public convertToItem(data: any): CompleterItem | null {\n        return super.convertToItem(data);\n    }\n}\n","import { Injectable } from \"@angular/core\";\n\nimport { LocalData } from \"./local-data\";\n\n@Injectable()\nexport class LocalDataFactory {\n    public create() {\n        return new LocalData();\n    }\n}\n","import { Injectable } from \"@angular/core\";\n\nimport { HttpClient } from \"@angular/common/http\";\n\nimport { RemoteData } from \"./remote-data\";\n\n@Injectable()\nexport class RemoteDataFactory {\n    constructor(private http: HttpClient) { }\n\n    public create() {\n        return new RemoteData(this.http);\n    }\n}\n","import { Injectable } from \"@angular/core\";\nimport { Observable } from \"rxjs\";\n\nimport { LocalData } from \"./local-data\";\nimport { RemoteData } from \"./remote-data\";\nimport { LocalDataFactory } from \"./local-data-factory\";\nimport { RemoteDataFactory } from \"./remote-data-factory\";\n\n@Injectable()\nexport class CompleterService {\n    constructor(\n        private localDataFactory: LocalDataFactory, // Using any instead of () => LocalData because of AoT errors\n        private remoteDataFactory: RemoteDataFactory // Using any instead of () => LocalData because of AoT errors\n    ) { }\n\n    public local(\n        data: any[] | Observable<any>,\n        searchFields: string | null = \"\",\n        titleField: string | null = \"\"\n    ): LocalData {\n\n        const localData = this.localDataFactory.create();\n        return localData\n            .data(data)\n            .searchFields(searchFields)\n            .titleField(titleField);\n    }\n\n    public remote(url: string | null, searchFields: string | null = \"\", titleField: string | null = \"\"): RemoteData {\n\n        const remoteData = this.remoteDataFactory.create();\n        return remoteData\n            .remoteUrl(url)\n            .searchFields(searchFields)\n            .titleField(titleField);\n    }\n}\n","import { Directive, EventEmitter, Output } from \"@angular/core\";\n\nimport { CompleterItem } from \"../components/completer-item\";\n\nexport interface CompleterList {\n    search(term: string): void;\n    open(): void;\n    isOpen(open: boolean): void;\n    clear(): void;\n}\n\nexport interface CompleterDropdown {\n    clear(): void;\n    selectCurrent(): void;\n    nextRow(): void;\n    prevRow(): void;\n    highlightRow(index: number | null): void;\n}\n\n@Directive({\n    selector: \"[ctrCompleter]\",\n})\nexport class CtrCompleter {\n    @Output() public selected = new EventEmitter<CompleterItem | null>();\n    @Output() public highlighted = new EventEmitter<CompleterItem | null>();\n    @Output() public opened = new EventEmitter<boolean>();\n    @Output() public dataSourceChange = new EventEmitter<void>();\n\n    private list: CompleterList | null = null;\n    private dropdown: CompleterDropdown | null = null;\n    private _hasHighlighted = false;\n    private _hasSelected = false;\n    private _cancelBlur = false;\n    private _isOpen = false;\n    private _autoHighlightIndex: number | null = null;\n\n    public registerList(list: CompleterList) {\n        this.list = list;\n    }\n\n    public registerDropdown(dropdown: CompleterDropdown | null) {\n        this.dropdown = dropdown;\n    }\n\n    public onHighlighted(item: CompleterItem | null) {\n        this.highlighted.emit(item);\n        this._hasHighlighted = !!item;\n    }\n\n    public onSelected(item: CompleterItem | null, clearList = true) {\n        this.selected.emit(item);\n        if (item) {\n            this._hasSelected = true;\n        }\n        if (clearList) {\n            this.clear();\n        }\n    }\n\n    public onDataSourceChange() {\n        if (this.hasSelected) {\n            this.selected.emit(null);\n            this._hasSelected = false;\n        }\n        this.dataSourceChange.emit();\n    }\n\n    public search(term: string) {\n        if (this._hasSelected) {\n            this.selected.emit(null);\n            this._hasSelected = false;\n        }\n        if (this.list) {\n            this.list.search(term);\n        }\n    }\n\n    public clear() {\n        this._hasHighlighted = false;\n        this.isOpen = false;\n\n        if (this.dropdown) {\n            this.dropdown.clear();\n        }\n\n        if (this.list) {\n            this.list.clear();\n        }\n    }\n\n    public selectCurrent() {\n        if (this.dropdown) {\n            this.dropdown.selectCurrent();\n        }\n    }\n\n    public nextRow() {\n        if (this.dropdown) {\n            this.dropdown.nextRow();\n        }\n    }\n\n    public prevRow() {\n        if (this.dropdown) {\n            this.dropdown.prevRow();\n        }\n    }\n\n    public hasHighlighted() {\n        return this._hasHighlighted;\n    }\n\n    public cancelBlur(cancel: boolean) {\n        this._cancelBlur = cancel;\n    }\n\n    public isCancelBlur() {\n        return this._cancelBlur;\n    }\n\n    public open() {\n        if (!this._isOpen && !!this.list) {\n            this.isOpen = true;\n            this.list.open();\n        }\n    }\n\n    public get isOpen() {\n        return this._isOpen;\n    }\n\n    public set isOpen(open: boolean) {\n        this._isOpen = open;\n        this.opened.emit(this._isOpen);\n        if (this.list) {\n            this.list.isOpen(open);\n        }\n    }\n\n    public get autoHighlightIndex() {\n        return this._autoHighlightIndex;\n    }\n\n    public set autoHighlightIndex(index: number | null) {\n        this._autoHighlightIndex = index;\n        if (this.dropdown) {\n            this.dropdown.highlightRow(this._autoHighlightIndex);\n        }\n    }\n\n    public get hasSelected() {\n        return this._hasSelected;\n    }\n}\n","import { AfterViewInit, Directive, ElementRef, Host, HostListener, OnDestroy, NgZone } from \"@angular/core\";\n\nimport { CompleterItem } from \"../components/completer-item\";\nimport { CtrCompleter, CompleterDropdown } from \"./ctr-completer\";\nimport { isNil } from \"../globals\";\n\nexport interface CtrRowElement {\n    setHighlighted(selected: boolean): void;\n    getNativeElement(): any;\n    getDataItem(): CompleterItem | null;\n}\n\nexport class CtrRowItem {\n    constructor(public row: CtrRowElement, public index: number) { }\n}\n\n@Directive({\n    selector: \"[ctrDropdown]\",\n})\nexport class CtrDropdown implements CompleterDropdown, OnDestroy, AfterViewInit {\n\n    private rows: CtrRowItem[] = [];\n    private currHighlighted: CtrRowItem | undefined;\n    private isScrollOn: boolean = false;\n    private _rowMouseDown: boolean = false;\n\n    constructor( @Host() private completer: CtrCompleter, private el: ElementRef, private zone: NgZone) {\n        this.completer.registerDropdown(this);\n    }\n\n    public ngOnDestroy() {\n        this.completer.registerDropdown(null);\n    }\n\n    public ngAfterViewInit() {\n        const css = getComputedStyle(this.el.nativeElement);\n        const autoHighlightIndex = this.completer.autoHighlightIndex;\n\n        this.isScrollOn = !!css.maxHeight && css.overflowY === \"auto\";\n        if (autoHighlightIndex) {\n            this.zone.run(\n                () => {\n                    this.highlightRow(autoHighlightIndex);\n                }\n            );\n        }\n    }\n\n    @HostListener(\"mousedown\", [\"$event\"]) public onMouseDown(event: any) {\n        // Support for canceling blur on IE (issue #158)\n        if (!this._rowMouseDown) {\n            this.completer.cancelBlur(true);\n            this.zone.run(\n                () => {\n                    this.completer.cancelBlur(false);\n                }\n            );\n        } else {\n            this._rowMouseDown = false;\n        }\n    }\n\n    public registerRow(row: CtrRowItem) {\n        const arrIndex = this.rows.findIndex(_row => _row.index === row.index);\n        if (arrIndex >= 0) {\n            this.rows[arrIndex] = row;\n        } else {\n            this.rows.push(row);\n        }\n    }\n\n    public unregisterRow(rowIndex: number) {\n        const arrIndex = this.rows.findIndex(_row => _row.index === rowIndex);\n        this.rows.splice(arrIndex, 1);\n        if (this.currHighlighted && rowIndex === this.currHighlighted.index) {\n            this.highlightRow(null);\n        }\n    }\n\n    public highlightRow(index: number | null) {\n        const highlighted = this.rows.find(row => row.index === index);\n\n        if (isNil(index) || index! < 0) {\n            if (this.currHighlighted) {\n                this.currHighlighted.row.setHighlighted(false);\n            }\n            this.currHighlighted = undefined;\n            this.completer.onHighlighted(null);\n            return;\n        }\n\n        if (!highlighted) {\n            return;\n        }\n\n        if (this.currHighlighted) {\n            this.currHighlighted.row.setHighlighted(false);\n        }\n\n        this.currHighlighted = highlighted;\n        this.currHighlighted.row.setHighlighted(true);\n        this.completer.onHighlighted(this.currHighlighted.row.getDataItem());\n\n        if (this.isScrollOn && this.currHighlighted) {\n            const rowTop = this.dropdownRowTop();\n\n            if (!rowTop) {\n                return;\n            }\n\n            if (rowTop < 0) {\n                this.dropdownScrollTopTo(rowTop - 1);\n            } else {\n                const row = this.currHighlighted.row.getNativeElement();\n                if (this.dropdownHeight() < row.getBoundingClientRect().bottom) {\n                    this.dropdownScrollTopTo(this.dropdownRowOffsetHeight(row));\n                    if (this.el.nativeElement.getBoundingClientRect().bottom - this.dropdownRowOffsetHeight(row) < row.getBoundingClientRect().top) {\n                        this.dropdownScrollTopTo(row.getBoundingClientRect().top - (this.el.nativeElement.getBoundingClientRect().top + parseInt(getComputedStyle(this.el.nativeElement).paddingTop as string, 10)));\n                    }\n                }\n            }\n        }\n    }\n\n    public clear() {\n        this.rows = [];\n    }\n\n    public onSelected(item: CompleterItem | null) {\n        this.completer.onSelected(item);\n    }\n\n    public rowMouseDown() {\n        this._rowMouseDown = true;\n    }\n\n    public selectCurrent() {\n        if (!!this.currHighlighted && !!this.currHighlighted.row) {\n            this.onSelected(this.currHighlighted.row.getDataItem());\n        } else if (this.rows.length > 0) {\n            this.onSelected(this.rows[0].row.getDataItem());\n        }\n\n    }\n\n    public nextRow() {\n        let nextRowIndex = 0;\n\n        if (this.currHighlighted) {\n            nextRowIndex = this.currHighlighted.index + 1;\n        }\n\n        this.highlightRow(nextRowIndex);\n    }\n\n    public prevRow() {\n        let nextRowIndex = -1;\n\n        if (this.currHighlighted) {\n            nextRowIndex = this.currHighlighted.index - 1;\n        }\n\n        this.highlightRow(nextRowIndex);\n    }\n\n    private dropdownScrollTopTo(offset: any) {\n        this.el.nativeElement.scrollTop = this.el.nativeElement.scrollTop + offset;\n    }\n\n    private dropdownRowTop() {\n        if (!this.currHighlighted) {\n            return;\n        }\n\n        return this.currHighlighted.row.getNativeElement().getBoundingClientRect().top -\n            (this.el.nativeElement.getBoundingClientRect().top +\n                parseInt(getComputedStyle(this.el.nativeElement).paddingTop as string, 10));\n    }\n\n    private dropdownHeight() {\n        return this.el.nativeElement.getBoundingClientRect().top +\n            parseInt(getComputedStyle(this.el.nativeElement).maxHeight as string, 10);\n    }\n\n    private dropdownRowOffsetHeight(row: any) {\n        const css = getComputedStyle(row.parentElement);\n        return row.parentElement.offsetHeight +\n            parseInt(css.marginTop as string, 10) + parseInt(css.marginBottom as string, 10);\n    }\n}\n","import { Directive, ElementRef, EventEmitter, Host, HostListener, Input, Output } from \"@angular/core\";\nimport { NgModel } from \"@angular/forms\";\nimport { Subscription, timer } from \"rxjs\";\nimport { take } from \"rxjs/operators\";\n\nimport { CompleterItem } from \"../components/completer-item\";\nimport { CtrCompleter } from \"./ctr-completer\";\nimport { isNil } from \"../globals\";\n\n\n// keyboard events\nconst KEY_DW = 40;\nconst KEY_RT = 39;\nconst KEY_UP = 38;\nconst KEY_LF = 37;\nconst KEY_ES = 27;\nconst KEY_EN = 13;\nconst KEY_TAB = 9;\nconst KEY_BK = 8;\nconst KEY_SH = 16;\nconst KEY_CL = 20;\nconst KEY_F1 = 112;\nconst KEY_F12 = 123;\n\n@Directive({\n    selector: \"[ctrInput]\",\n})\nexport class CtrInput {\n    @Input(\"clearSelected\") public clearSelected = false;\n    @Input(\"clearUnselected\") public clearUnselected = false;\n    @Input(\"overrideSuggested\") public overrideSuggested = false;\n    @Input(\"fillHighlighted\") public fillHighlighted = true;\n    @Input(\"openOnFocus\") public openOnFocus = false;\n    @Input(\"openOnClick\") public openOnClick = false;\n    @Input(\"selectOnClick\") public selectOnClick = false;\n    @Input(\"selectOnFocus\") public selectOnFocus = false;\n\n    @Output() public ngModelChange: EventEmitter<any> = new EventEmitter();\n\n    private _searchStr = \"\";\n    private _displayStr = \"\";\n    private blurTimer: Subscription | null = null;\n\n    constructor( @Host() private completer: CtrCompleter, private ngModel: NgModel, private el: ElementRef) {\n        this.completer.selected.subscribe((item: CompleterItem) => {\n            if (!item) {\n                return;\n            }\n            if (this.clearSelected) {\n                this.searchStr = \"\";\n            } else {\n                this.searchStr = item.title;\n            }\n            this.ngModelChange.emit(this.searchStr);\n        });\n\n        this.completer.highlighted.subscribe((item: CompleterItem) => {\n            if (this.fillHighlighted) {\n                if (item) {\n                    this._displayStr = item.title;\n                    this.ngModelChange.emit(item.title);\n                } else {\n                    this._displayStr = this.searchStr;\n                    this.ngModelChange.emit(this.searchStr);\n                }\n            }\n        });\n\n        this.completer.dataSourceChange.subscribe(() => {\n            this.completer.search(this.searchStr);\n        });\n\n        if (this.ngModel.valueChanges) {\n            this.ngModel.valueChanges.subscribe((value: any) => {\n                if (!isNil(value) && this._displayStr !== value) {\n                    if (this.searchStr !== value) {\n                        this.completer.search(value);\n                    }\n                    this.searchStr = value;\n                }\n            });\n        }\n    }\n\n    @HostListener(\"keyup\", [\"$event\"])\n    public keyupHandler(event: any) {\n        if (event.keyCode === KEY_LF || event.keyCode === KEY_RT || event.keyCode === KEY_TAB) {\n            // do nothing\n            return;\n        }\n\n        if (event.keyCode === KEY_UP || event.keyCode === KEY_EN) {\n            event.preventDefault();\n        } else if (event.keyCode === KEY_DW) {\n            event.preventDefault();\n            this.completer.search(this.searchStr);\n        } else if (event.keyCode === KEY_ES) {\n            if (this.completer.isOpen) {\n                this.restoreSearchValue();\n                this.completer.clear();\n                event.stopPropagation();\n                event.preventDefault();\n            }\n        }\n    }\n\n    @HostListener(\"paste\", [\"$event\"])\n    public pasteHandler(event: any) {\n        this.completer.open();\n    }\n\n    @HostListener(\"keydown\", [\"$event\"])\n    public keydownHandler(event: any) {\n        const keyCode = event.keyCode || event.which;\n        if (keyCode === KEY_EN) {\n            if (this.completer.hasHighlighted()) {\n                event.preventDefault();\n            }\n            this.handleSelection();\n        } else if (keyCode === KEY_DW) {\n            event.preventDefault();\n            this.completer.open();\n            this.completer.nextRow();\n        } else if (keyCode === KEY_UP) {\n            event.preventDefault();\n            this.completer.prevRow();\n        } else if (keyCode === KEY_TAB) {\n            this.handleSelection();\n        } else if (keyCode === KEY_BK) {\n            this.completer.open();\n        } else if (keyCode === KEY_ES) {\n            // This is very specific to IE10/11 #272\n            // without this, IE clears the input text\n            event.preventDefault();\n            if (this.completer.isOpen) {\n                event.stopPropagation();\n            }\n        } else {\n            if (keyCode !== 0 && keyCode !== KEY_SH && keyCode !== KEY_CL &&\n                (keyCode <= KEY_F1 || keyCode >= KEY_F12) &&\n                !event.ctrlKey && !event.metaKey && !event.altKey\n            ) {\n                this.completer.open();\n            }\n        }\n    }\n\n    @HostListener(\"blur\", [\"$event\"])\n    public onBlur(event: any) {\n        // Check if we need to cancel Blur for IE\n        if (this.completer.isCancelBlur()) {\n            setTimeout(\n                () => {\n                    // get the focus back\n                    this.el.nativeElement.focus();\n                },\n                0\n            );\n            return;\n        }\n\n        if (this.completer.isOpen) {\n            this.blurTimer = timer(200).pipe(take(1)).subscribe(() => this.doBlur());\n        }\n    }\n\n    @HostListener(\"focus\", [])\n    public onfocus() {\n        if (this.blurTimer) {\n            this.blurTimer.unsubscribe();\n            this.blurTimer = null;\n        }\n\n        if (this.selectOnFocus) {\n            this.el.nativeElement.select();\n        }\n\n        if (this.openOnFocus) {\n            this.completer.open();\n        }\n    }\n\n    @HostListener(\"click\", [\"$event\"])\n    public onClick(event: any) {\n        if (this.selectOnClick) {\n            this.el.nativeElement.select();\n        }\n\n        if (this.openOnClick) {\n            if (this.completer.isOpen) {\n                this.completer.clear();\n            } else {\n                this.completer.open();\n            }\n        }\n    }\n\n    public get searchStr() {\n        return this._searchStr;\n    }\n\n    public set searchStr(term: string) {\n        this._searchStr = term;\n        this._displayStr = term;\n    }\n\n    private handleSelection() {\n        if (this.completer.hasHighlighted()) {\n            this._searchStr = \"\";\n            this.completer.selectCurrent();\n        } else if (this.overrideSuggested) {\n            this.completer.onSelected({ title: this.searchStr, originalObject: null });\n        } else {\n            if (this.clearUnselected && !this.completer.hasSelected) {\n                this.searchStr = \"\";\n                this.ngModelChange.emit(this.searchStr);\n            }\n            this.completer.clear();\n        }\n    }\n\n    private restoreSearchValue() {\n        if (this.fillHighlighted) {\n            if (this._displayStr !== this.searchStr) {\n                this._displayStr = this.searchStr;\n                this.ngModelChange.emit(this.searchStr);\n            }\n        }\n    }\n\n    private doBlur() {\n        if (this.blurTimer) {\n            this.blurTimer.unsubscribe();\n            this.blurTimer = null;\n        }\n\n        if (this.overrideSuggested) {\n            this.completer.onSelected({ title: this.searchStr, originalObject: null });\n        } else {\n            if (this.clearUnselected && !this.completer.hasSelected) {\n                this.searchStr = \"\";\n                this.ngModelChange.emit(this.searchStr);\n            } else {\n                this.restoreSearchValue();\n            }\n        }\n\n        this.completer.clear();\n    }\n}\n","import {\n  ChangeDetectorRef,\n  Directive,\n  EmbeddedViewRef,\n  Host,\n  Input,\n  OnInit,\n  TemplateRef,\n  ViewContainerRef,\n  NgZone,\n} from \"@angular/core\";\nimport { Subscription, timer } from \"rxjs\";\nimport { take } from \"rxjs/operators\";\nimport { CompleterItem } from \"../components/completer-item\";\nimport { CLEAR_TIMEOUT, isNil, MIN_SEARCH_LENGTH, PAUSE } from \"../globals\";\nimport { CompleterData } from \"../services/completer-data\";\nimport { CompleterList, CtrCompleter } from \"./ctr-completer\";\n\nexport class CtrListContext {\n  constructor(\n    public results: CompleterItem[] | null,\n    public searching: boolean,\n    public searchInitialized: boolean,\n    public isOpen: boolean\n  ) {}\n}\n\n@Directive({\n  selector: \"[ctrList]\",\n})\nexport class CtrList implements OnInit, CompleterList {\n  @Input() public ctrListMinSearchLength = MIN_SEARCH_LENGTH;\n  @Input() public ctrListPause = PAUSE;\n  @Input() public ctrListAutoMatch = false;\n  @Input() public ctrListAutoHighlight = false;\n  @Input() public ctrListDisplaySearching = true;\n\n  private _dataService: CompleterData | null = null;\n  // private results: CompleterItem[] = [];\n  private term: string | null = null;\n  // private searching = false;\n  private searchTimer: Subscription | null = null;\n  private clearTimer: Subscription | null = null;\n  private ctx = new CtrListContext([], false, false, false);\n  private _initialValue: any = null;\n  private viewRef: EmbeddedViewRef<CtrListContext> | null = null;\n\n  constructor(\n    @Host() private completer: CtrCompleter,\n    private templateRef: TemplateRef<CtrListContext>,\n    private viewContainer: ViewContainerRef,\n    private cd: ChangeDetectorRef,\n    private zone: NgZone\n  ) {}\n\n  public ngOnInit() {\n    this.completer.registerList(this);\n    this.viewRef = this.viewContainer.createEmbeddedView(\n      this.templateRef,\n      new CtrListContext([], false, false, false)\n    );\n  }\n\n  @Input(\"ctrList\")\n  public set dataService(newService: CompleterData) {\n    this._dataService = newService;\n    this.dataServiceSubscribe();\n  }\n\n  @Input(\"ctrListInitialValue\")\n  public set initialValue(value: any) {\n    if (\n      this._dataService &&\n      typeof this._dataService.convertToItem === \"function\"\n    ) {\n      this.zone.run(() => {\n        const initialItem =\n          this._dataService && this._dataService.convertToItem!(value);\n        if (initialItem) {\n          this.completer.onSelected(initialItem, false);\n        }\n      });\n    } else if (!this._dataService) {\n      this._initialValue = value;\n    }\n  }\n\n  public search(term: string) {\n    if (\n      !isNil(term) &&\n      term.length >= this.ctrListMinSearchLength &&\n      this.term !== term\n    ) {\n      if (this.searchTimer) {\n        this.searchTimer.unsubscribe();\n        this.searchTimer = null;\n      }\n      if (!this.ctx.searching) {\n        if (this.ctrListDisplaySearching) {\n          this.ctx.results = [];\n        }\n        this.ctx.searching = true;\n        this.ctx.searchInitialized = true;\n        this.refreshTemplate();\n      }\n      if (this.clearTimer) {\n        this.clearTimer.unsubscribe();\n      }\n      this.searchTimer = timer(this.ctrListPause)\n        .pipe(take(1))\n        .subscribe(() => {\n          this.searchTimerComplete(term);\n        });\n    } else if (!isNil(term) && term.length < this.ctrListMinSearchLength) {\n      this.clear();\n      this.term = \"\";\n    }\n  }\n\n  public clear() {\n    if (this.searchTimer) {\n      this.searchTimer.unsubscribe();\n    }\n    this.clearTimer = timer(CLEAR_TIMEOUT)\n      .pipe(take(1))\n      .subscribe(() => {\n        this._clear();\n      });\n  }\n\n  public open() {\n    if (!this.ctx.searchInitialized) {\n      this.search(\"\");\n    }\n    this.refreshTemplate();\n  }\n\n  public isOpen(open: boolean) {\n    this.ctx.isOpen = open;\n  }\n\n  private _clear() {\n    if (this.searchTimer) {\n      this.searchTimer.unsubscribe();\n      this.searchTimer = null;\n    }\n    if (this.dataService) {\n      this.dataService.cancel();\n    }\n\n    this.viewContainer.clear();\n    this.viewRef = null;\n  }\n\n  private searchTimerComplete(term: string) {\n    // Begin the search\n    if (isNil(term) || term.length < this.ctrListMinSearchLength) {\n      this.ctx.searching = false;\n      return;\n    }\n    this.term = term;\n\n    if (this._dataService) {\n      this._dataService.search(term);\n    }\n  }\n\n  private refreshTemplate() {\n    // create the template if it doesn't exist\n    if (!this.viewRef) {\n      this.viewRef = this.viewContainer.createEmbeddedView(\n        this.templateRef,\n        this.ctx\n      );\n    } else if (!this.viewRef.destroyed) {\n      // refresh the template\n      this.viewRef!.context.isOpen = this.ctx.isOpen;\n      this.viewRef!.context.results = this.ctx.results;\n      this.viewRef!.context.searching = this.ctx.searching;\n      this.viewRef!.context.searchInitialized = this.ctx.searchInitialized;\n      this.viewRef.detectChanges();\n    }\n    this.cd.markForCheck();\n  }\n\n  private getBestMatchIndex() {\n    if (!this.ctx.results || !this.term) {\n      return null;\n    }\n\n    // First try to find the exact term\n    let bestMatch = this.ctx.results.findIndex(\n      (item) => item.title.toLowerCase() === this.term!.toLocaleLowerCase()\n    );\n    // If not try to find the first item that starts with the term\n    if (bestMatch < 0) {\n      bestMatch = this.ctx.results.findIndex((item) =>\n        item.title.toLowerCase().startsWith(this.term!.toLocaleLowerCase())\n      );\n    }\n    // If not try to find the first item that includes the term\n    if (bestMatch < 0) {\n      bestMatch = this.ctx.results.findIndex((item) =>\n        item.title.toLowerCase().includes(this.term!.toLocaleLowerCase())\n      );\n    }\n\n    return bestMatch < 0 ? null : bestMatch;\n  }\n\n  private dataServiceSubscribe() {\n    if (this._dataService) {\n      this._dataService.subscribe(\n        (results) => {\n          this.ctx.searchInitialized = true;\n          this.ctx.searching = false;\n          this.ctx.results = results;\n\n          if (\n            this.ctrListAutoMatch &&\n            results &&\n            results.length === 1 &&\n            results[0].title &&\n            !isNil(this.term) &&\n            results[0].title.toLocaleLowerCase() ===\n              this.term!.toLocaleLowerCase()\n          ) {\n            // Do automatch\n            this.completer.onSelected(results[0]);\n            return;\n          }\n\n          this.refreshTemplate();\n\n          if (this.ctrListAutoHighlight) {\n            this.completer.autoHighlightIndex = this.getBestMatchIndex();\n          }\n        },\n        (error: any) => {\n          // tslint:disable-next-line:no-console\n          console.error(error);\n          // tslint:disable-next-line:no-console\n          console.error(\n            \"Unexpected error in dataService: errors should be handled by the dataService Observable\"\n          );\n          return [];\n        }\n      );\n\n      if (this._dataService.dataSourceChange) {\n        this._dataService.dataSourceChange.subscribe(() => {\n          this.term = null;\n          this.ctx.searchInitialized = false;\n          this.ctx.searching = false;\n          this.ctx.results = [];\n          this.refreshTemplate();\n          this.completer.onDataSourceChange();\n        });\n      }\n    }\n  }\n}\n","import { Directive, ElementRef, Host, HostListener, Input, Renderer2, OnDestroy } from \"@angular/core\";\n\nimport { CompleterItem } from \"../components/completer-item\";\nimport { CtrDropdown, CtrRowElement, CtrRowItem } from \"./ctr-dropdown\";\n\n@Directive({\n    selector: \"[ctrRow]\",\n})\nexport class CtrRow implements CtrRowElement, OnDestroy {\n\n    private selected = false;\n    private _rowIndex: number = 0;\n    private _item: CompleterItem | null = null;\n\n    constructor(private el: ElementRef, private renderer: Renderer2, @Host() private dropdown: CtrDropdown) { }\n\n    public ngOnDestroy() {\n        if (this._rowIndex) {\n            this.dropdown.unregisterRow(this._rowIndex);\n        }\n    }\n\n    @Input()\n    set ctrRow(index: number) {\n        this._rowIndex = index;\n        this.dropdown.registerRow(new CtrRowItem(this, this._rowIndex));\n    }\n\n    @Input()\n    set dataItem(item: CompleterItem) {\n        this._item = item;\n    }\n\n    @HostListener(\"click\", [\"$event\"]) public onClick(event: any) {\n        this.dropdown.onSelected(this._item);\n    }\n\n    @HostListener(\"mouseenter\", [\"$event\"]) public onMouseEnter(event: any) {\n        this.dropdown.highlightRow(this._rowIndex);\n    }\n\n    @HostListener(\"mousedown\", [\"$event\"]) public onMouseDown(event: any) {\n        this.dropdown.rowMouseDown();\n    }\n\n    public setHighlighted(selected: boolean) {\n        this.selected = selected;\n        if (this.selected) {\n          this.renderer.addClass(this.el.nativeElement, \"completer-selected-row\");\n        } else {\n          this.renderer.removeClass(this.el.nativeElement, \"completer-selected-row\");\n        }\n    }\n\n    public getNativeElement() {\n        return this.el.nativeElement;\n    }\n\n    public getDataItem() {\n        return this._item;\n    }\n}\n","\"use strict\";\nimport { Component, Input, OnInit } from \"@angular/core\";\n\nexport interface MatchPart {\n    isMatch: boolean;\n    text: string;\n}\n\n@Component({\n    selector: \"completer-list-item\",\n    template: `<span class=\"completer-list-item-holder\" [ngClass]= \"{'completer-title': type === 'title', 'completer-description': type === 'description'}\" >\n        <span class=\"completer-list-item\" *ngFor=\"let part of parts\" [ngClass]= \"part.isMatch ? matchClass : null\">{{part.text}}</span>\n    </span>`\n})\nexport class CompleterListItemCmp implements OnInit {\n    @Input()\n    public text: string = \"\";\n    @Input()\n    public searchStr: string = \"\";\n    @Input()\n    public matchClass: string = \"\";\n    @Input()\n    public type: string = \"\";\n\n    public parts: MatchPart[] = [];\n    public ngOnInit() {\n        if (!this.searchStr) {\n            this.parts.push({ isMatch: false, text: this.text });\n            return;\n        }\n        const matchStr = this.text.toLowerCase();\n        let matchPos = matchStr.indexOf(this.searchStr.toLowerCase());\n        let startIndex = 0;\n        while (matchPos >= 0) {\n            const matchText = this.text.slice(matchPos, matchPos + this.searchStr.length);\n            if (matchPos === 0) {\n                this.parts.push({ isMatch: true, text: matchText });\n                startIndex += this.searchStr.length;\n            } else if (matchPos > 0) {\n                const matchPart = this.text.slice(startIndex, matchPos);\n                this.parts.push({ isMatch: false, text: matchPart });\n                this.parts.push({ isMatch: true, text: matchText });\n                startIndex += this.searchStr.length + matchPart.length;\n            }\n            matchPos = matchStr.indexOf(this.searchStr.toLowerCase(), startIndex);\n        }\n        if (startIndex < this.text.length) {\n            this.parts.push({ isMatch: false, text: this.text.slice(startIndex, this.text.length) });\n        }\n    }\n}","\"use strict\";\nimport { AfterViewChecked, ChangeDetectorRef, Component, Input, Output, EventEmitter, OnInit, ViewChild, forwardRef, AfterViewInit, ElementRef } from \"@angular/core\";\nimport { ControlValueAccessor, FormControl, NG_VALUE_ACCESSOR } from \"@angular/forms\";\n\nimport { CtrCompleter } from \"../directives/ctr-completer\";\nimport { CompleterData } from \"../services/completer-data\";\nimport { CompleterService } from \"../services/completer-service\";\nimport { CompleterItem } from \"./completer-item\";\nimport { MAX_CHARS, MIN_SEARCH_LENGTH, PAUSE, TEXT_SEARCHING, TEXT_NO_RESULTS, isNil } from \"../globals\";\n\n\nconst noop = () => {\n    return;\n};\n\nconst COMPLETER_CONTROL_VALUE_ACCESSOR = {\n    multi: true,\n    provide: NG_VALUE_ACCESSOR,\n    useExisting: forwardRef(() => CompleterCmp),\n};\n\n\n@Component({\n    selector: \"ng2-completer\",\n    template: `\n        <div class=\"completer-holder\" ctrCompleter>\n            <input #ctrInput [attr.id]=\"inputId.length > 0 ? inputId : null\" type=\"search\"\n                class=\"completer-input\" ctrInput [ngClass]=\"inputClass\"\n                [(ngModel)]=\"searchStr\" (ngModelChange)=\"onChange($event)\"\n                [attr.name]=\"inputName\" [placeholder]=\"placeholder\"\n                [attr.maxlength]=\"maxChars\" [tabindex]=\"fieldTabindex\" [disabled]=\"disableInput\"\n                [clearSelected]=\"clearSelected\" [clearUnselected]=\"clearUnselected\"\n                [overrideSuggested]=\"overrideSuggested\" [openOnFocus]=\"openOnFocus\" [fillHighlighted]=\"fillHighlighted\"\n                [openOnClick]=\"openOnClick\" [selectOnClick]=\"selectOnClick\" [selectOnFocus]=\"selectOnFocus\"\n                (blur)=\"onBlur()\" (focus)=\"onFocus()\" (keyup)=\"onKeyup($event)\"\n                (keydown)=\"onKeydown($event)\" (click)=\"onClick($event)\"\n                autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" />\n\n            <div class=\"completer-dropdown-holder\"\n                *ctrList=\"dataService;\n                    minSearchLength: minSearchLength;\n                    pause: pause;\n                    autoMatch: autoMatch;\n                    initialValue: initialValue;\n                    autoHighlight: autoHighlight;\n                    displaySearching: displaySearching;\n                    let items = results;\n                    let searchActive = searching;\n                    let isInitialized = searchInitialized;\n                    let isOpen = isOpen;\">\n                <div class=\"completer-dropdown\" ctrDropdown\n                    *ngIf=\"isInitialized && isOpen && (( items?.length > 0|| (displayNoResults && !searchActive)) || (searchActive && displaySearching))\">\n                    <div *ngIf=\"searchActive && displaySearching\" class=\"completer-searching\">{{ _textSearching }}</div>\n                    <div *ngIf=\"!searchActive && (!items || items?.length === 0)\"\n                    class=\"completer-no-results\">{{ _textNoResults }}</div>\n                    <div class=\"completer-row-wrapper\" *ngFor=\"let item of items; let rowIndex=index\">\n                        <div class=\"completer-row\" [ctrRow]=\"rowIndex\" [dataItem]=\"item\">\n                            <div *ngIf=\"item.image || item.image === ''\" class=\"completer-image-holder\">\n                                <img *ngIf=\"item.image != ''\" src=\"{{item.image}}\" class=\"completer-image\" />\n                                <div *ngIf=\"item.image === ''\" class=\"completer-image-default\"></div>\n                            </div>\n                            <div class=\"completer-item-text\"\n                            [ngClass]=\"{'completer-item-text-image': item.image || item.image === '' }\">\n                                <completer-list-item\n                                class=\"completer-title\" [text]=\"item.title\" [matchClass]=\"matchClass\"\n                                [searchStr]=\"searchStr\" [type]=\"'title'\"></completer-list-item>\n                                <completer-list-item *ngIf=\"item.description && item.description != ''\"\n                                class=\"completer-description\" [text]=\"item.description\"\n                                    [matchClass]=\"matchClass\" [searchStr]=\"searchStr\" [type]=\"'description'\">\n                                </completer-list-item>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    `,\n    styles: [`\n    .completer-dropdown {\n        border-color: #ececec;\n        border-width: 1px;\n        border-style: solid;\n        border-radius: 2px;\n        width: 250px;\n        padding: 6px;\n        cursor: pointer;\n        z-index: 9999;\n        position: absolute;\n        margin-top: -6px;\n        background-color: #ffffff;\n    }\n\n    .completer-row {\n        padding: 5px;\n        color: #000000;\n        margin-bottom: 4px;\n        clear: both;\n        display: inline-block;\n        width: 103%;\n    }\n\n    .completer-selected-row {\n        background-color: lightblue;\n        color: #ffffff;\n    }\n\n    .completer-description {\n        font-size: 14px;\n    }\n\n    .completer-image-default {\n        width: 16px;\n        height: 16px;\n        background-image: url(\"demo/res/img/default.png\");\n    }\n\n    .completer-image-holder {\n        float: left;\n        width: 10%;\n    }\n    .completer-item-text-image {\n        float: right;\n        width: 90%;\n    }\n    `],\n    providers: [COMPLETER_CONTROL_VALUE_ACCESSOR]\n})\nexport class CompleterCmp implements ControlValueAccessor, AfterViewChecked, AfterViewInit {\n    @Input() public dataService: CompleterData | undefined;\n    @Input() public inputName = \"\";\n    @Input() public inputId: string = \"\";\n    @Input() public pause = PAUSE;\n    @Input() public minSearchLength = MIN_SEARCH_LENGTH;\n    @Input() public maxChars = MAX_CHARS;\n    @Input() public overrideSuggested = false;\n    @Input() public clearSelected = false;\n    @Input() public clearUnselected = false;\n    @Input() public fillHighlighted = true;\n    @Input() public placeholder = \"\";\n    @Input() public matchClass: string | undefined;\n    @Input() public fieldTabindex: number | undefined;\n    @Input() public autoMatch = false;\n    @Input() public disableInput = false;\n    @Input() public inputClass: string | undefined;\n    @Input() public autofocus = false;\n    @Input() public openOnFocus = false;\n    @Input() public openOnClick = false;\n    @Input() public selectOnClick = false;\n    @Input() public selectOnFocus = false;\n    @Input() public initialValue: any;\n    @Input() public autoHighlight = false;\n\n    @Output() public selected = new EventEmitter<CompleterItem>();\n    @Output() public highlighted = new EventEmitter<CompleterItem>();\n    @Output(\"blur\") public blurEvent = new EventEmitter<void>();\n    @Output() public click = new EventEmitter<void>();\n    @Output(\"focus\") public focusEvent = new EventEmitter<void>();\n    @Output() public opened = new EventEmitter<boolean>();\n    @Output() public keyup: EventEmitter<any> = new EventEmitter();\n    @Output() public keydown: EventEmitter<any> = new EventEmitter();\n\n    @ViewChild(CtrCompleter, { static: false }) public completer: CtrCompleter | undefined;\n    @ViewChild(\"ctrInput\", { static: false }) public ctrInput: ElementRef | undefined;\n\n    public control = new FormControl(\"\");\n    public displaySearching = true;\n    public displayNoResults = true;\n    public _textNoResults = TEXT_NO_RESULTS;\n    public _textSearching = TEXT_SEARCHING;\n\n    private _onTouchedCallback: () => void = noop;\n    private _onChangeCallback: (_: any) => void = noop;\n    private _focus: boolean = false;\n    private _open: boolean = false;\n    private _searchStr = \"\";\n\n    constructor(private completerService: CompleterService, private cdr: ChangeDetectorRef) { }\n\n    public get value(): any { return this.searchStr; };\n\n    public set value(v: any) {\n        if (v !== this.searchStr) {\n            this.searchStr = v;\n        }\n        // Propagate the change in any case\n        this._onChangeCallback(v);\n    }\n\n    public get searchStr() {\n        return this._searchStr;\n    }\n\n    public set searchStr(value: string) {\n        if (typeof value === \"string\" || isNil(value)) {\n            this._searchStr = value;\n        } else {\n            this._searchStr = JSON.stringify(value);\n        }\n    }\n\n    public ngAfterViewInit() {\n        if (this.autofocus) {\n            this._focus = true;\n        }\n        \n        if (!this.completer) {\n            return;\n        }\n\n        this.completer.selected.subscribe((item: CompleterItem) => {\n            this.selected.emit(item);\n        });\n        this.completer.highlighted.subscribe((item: CompleterItem) => {\n            this.highlighted.emit(item);\n        });\n        this.completer.opened.subscribe((isOpen: boolean) => {\n            this._open = isOpen;\n            this.opened.emit(isOpen);\n        });\n    }\n\n    public ngAfterViewChecked(): void {\n        if (this._focus) {\n            setTimeout(\n                () => {\n                    if (!!this.ctrInput) {\n                        this.ctrInput.nativeElement.focus();\n                        this._focus = false;\n                    }\n                },\n                0\n            );\n        }\n    }\n\n    public onTouched() {\n        this._onTouchedCallback();\n    }\n\n    public writeValue(value: any) {\n        this.searchStr = value;\n    }\n\n    public registerOnChange(fn: any) {\n        this._onChangeCallback = fn;\n    }\n\n    public registerOnTouched(fn: any) {\n        this._onTouchedCallback = fn;\n    }\n\n    public setDisabledState(isDisabled: boolean): void {\n        this.disableInput = isDisabled;\n    }\n\n    @Input()\n    public set datasource(source: CompleterData | string | any[]) {\n        if (source) {\n            if (source instanceof Array) {\n                this.dataService = this.completerService.local(source);\n            } else if (typeof (source) === \"string\") {\n                this.dataService = this.completerService.remote(source);\n            } else {\n                this.dataService = source as CompleterData;\n            }\n        }\n    }\n\n    @Input()\n    public set textNoResults(text: string) {\n        if (this._textNoResults !== text) {\n            this._textNoResults = text;\n            this.displayNoResults = !!this._textNoResults && this._textNoResults !== \"false\";\n        }\n    }\n\n    @Input()\n    public set textSearching(text: string) {\n        if (this._textSearching !== text) {\n            this._textSearching = text;\n            this.displaySearching = !!this._textSearching && this._textSearching !== \"false\";\n        }\n    }\n\n    public onBlur() {\n        this.blurEvent.emit();\n        this.onTouched();\n        this.cdr.detectChanges();\n    }\n\n    public onFocus() {\n        this.focusEvent.emit();\n        this.onTouched();\n    }\n\n    public onClick(event: any) {\n        this.click.emit(event);\n        this.onTouched();\n    }\n\n    public onKeyup(event: any) {\n        this.keyup.emit(event);\n        event.stopPropagation();\n    }\n\n    public onKeydown(event: any) {\n        this.keydown.emit(event);\n        event.stopPropagation();\n    }\n\n    public onChange(value: string) {\n        this.value = value;\n    }\n\n    public open() {\n        if (!this.completer) {\n            return;\n        }\n\n        this.completer.open();\n    }\n\n    public close() {\n        if (!this.completer) {\n            return;\n        }\n\n        this.completer.clear();\n    }\n\n    public focus(): void {\n        if (this.ctrInput) {\n            this.ctrInput.nativeElement.focus();\n        } else {\n            this._focus = true;\n        }\n    }\n\n    public blur(): void {\n        if (this.ctrInput) {\n            this.ctrInput.nativeElement.blur();\n        } else {\n            this._focus = false;\n        }\n    }\n\n    public isOpen() {\n        return this._open;\n    }\n}\n","import { NgModule, ModuleWithProviders } from \"@angular/core\";\nimport { FormsModule } from \"@angular/forms\";\nimport { CommonModule } from \"@angular/common\";\n\nimport { CompleterCmp } from \"../components/completer-cmp\";\nimport { CompleterListItemCmp } from \"../components/completer-list-item-cmp\";\nimport { LocalDataFactory } from \"../services/local-data-factory\";\nimport { RemoteDataFactory } from \"../services/remote-data-factory\";\nimport { CompleterService } from \"../services/completer-service\";\n\nimport { CtrCompleter } from \"../directives/ctr-completer\";\nimport { CtrDropdown } from \"../directives/ctr-dropdown\";\nimport { CtrInput } from \"../directives/ctr-input\";\nimport { CtrList } from \"../directives/ctr-list\";\nimport { CtrRow } from \"../directives/ctr-row\";\n\nconst providers = [\n    CompleterService,\n    LocalDataFactory,\n    RemoteDataFactory\n];\n\n@NgModule({\n    declarations: [\n        CompleterListItemCmp,\n        CtrCompleter,\n        CtrDropdown,\n        CtrInput,\n        CtrList,\n        CtrRow,\n        CompleterCmp\n    ],\n    exports: [\n        CompleterListItemCmp,\n        CtrCompleter,\n        CtrDropdown,\n        CtrInput,\n        CtrList,\n        CtrRow,\n        CompleterCmp\n    ],\n    imports: [\n        CommonModule,\n        FormsModule\n    ],\n    providers\n})\nexport class Ng2CompleterModule {\n\n    public static forRoot(): ModuleWithProviders {\n        return {\n            ngModule: Ng2CompleterModule,\n            providers\n        };\n    }\n\n    public static forChild(): ModuleWithProviders {\n        return {\n            ngModule: Ng2CompleterModule,\n            providers\n        };\n    }\n}\n"]}